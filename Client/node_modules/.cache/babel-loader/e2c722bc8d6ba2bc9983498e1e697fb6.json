{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\gunav\\\\Desktop\\\\Code\\\\Code For Change\\\\Choice-Picks\\\\src\\\\base\\\\librarian.js\";\nimport React, { Component } from 'react';\nimport '../index.css';\nimport raw from './credentials.txt';\n\nclass Library extends Component {\n  constructor(props) {\n    super(props);\n    let lines = [];\n    fetch(raw).then(r => r.text()).then(text => {\n      lines.push(text.split(\"\\n\"));\n    });\n    this.state = {\n      lines,\n      newAccount: false,\n      content: true\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleNewAccount = this.handleNewAccount.bind(this);\n  }\n\n  render() {\n    const createNewAccount = this.state.newAccount ? this.createNewAccount() : null;\n    const content = this.state.content ? this.content() : null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 17\n      }, this), this.login(), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"loginContent\",\n        children: [content, createNewAccount]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }, this);\n  }\n\n  toggle() {\n    this.setState({\n      newAccount: !this.state.newAccount\n    });\n    this.setState({\n      content: !this.state.content\n    });\n  }\n\n  content() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: e => this.toggle(e),\n        children: \"New Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this);\n  }\n\n  login() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login1\",\n      id: \"login\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"loginHeader\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: \"5vh\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"name\",\n              placeholder: \"Username\",\n              required: \"required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              id: \"password\",\n              placeholder: \"Password\",\n              required: \"required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"submitBtn\",\n          type: \"submit\",\n          value: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this);\n  }\n\n  createNewAccount() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login2\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"loginHeader\",\n        children: \"Create New Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.handleNewAccount,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: \"5vh\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              paddingBottom: \"5vh\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              id: \"accPass\",\n              placeholder: \"Account Password:\",\n              required: \"required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"newU\",\n              placeholder: \"New Username\",\n              required: \"required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              id: \"newP\",\n              placeholder: \"New Password\",\n              required: \"required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              id: \"confirmP\",\n              placeholder: \"Confirm Password\",\n              required: \"required\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: \"Submit\",\n          className: \"submitBtn\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this);\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    let username = document.getElementById(\"name\").value.trim();\n    let password = document.getElementById(\"password\").value.trim();\n    let authenticated = false;\n\n    for (let i = 0; i < this.state.lines[0].length; i++) {\n      let line = this.state.lines[0][i];\n      const beginI = line.indexOf(\":\") + 2;\n      const endI = line.indexOf(\",\");\n      let rUsername = line.substring(beginI, endI).trim();\n\n      if (username === rUsername) {\n        let rPassword = this.state.lines[0][i].substring(endI + 12).trim();\n\n        if (password === rPassword) {\n          authenticated = true;\n          break;\n        }\n      }\n    }\n\n    if (authenticated) {\n      document.getElementById(\"login\").style.display = \"none\";\n      document.getElementById(\"loginContent\").style.display = \"block\";\n    } else {\n      alert(\"Incorrect Credentials!\");\n      document.getElementById(\"name\").value = \"\";\n      document.getElementById(\"password\").value = \"\";\n    }\n  }\n\n  handleNewAccount(event) {\n    event.preventDefault();\n    let accPass = document.getElementById(\"accPass\").value;\n\n    if (accPass === document.getElementById(\"password\").value) {\n      let newP = document.getElementById(\"newP\").value;\n      let confirmP = document.getElementById(\"confirmP\").value;\n\n      if (newP === confirmP) {\n        let newU = document.getElementById(\"newU\").value;\n        let newLine = \"username: \" + newU + \", password: \" + newP; // localStorage.setItem('1', newLine);\n        // console.log(localStorage.getItem('1') + \"local storage\");\n        // this.state.lines[0].add(newLine);\n        // const fs = require('fs');\n        // fs.appendFile('./credentials.txt', '\\nRight there up on Broadway', (err) => {\n        //     if (err) throw err;\n        //     console.log('The lyrics were updated!');\n        // });\n        // using(StreamWrite sw = new StreamWriter(\"file.txt\"))\n        // credential.txt\n        // window.updateFile(newLine);\n\n        this.toggle();\n      } else {\n        alert(\"Passwords do not match!\");\n        document.getElementById(\"newP\").value = \"\";\n        document.getElementById(\"confirmP\").value = \"\";\n      }\n    } else {\n      alert(\"Incorrect password!\");\n      document.getElementById(\"accPass\").value = \"\";\n    }\n  }\n\n}\n\nexport default Library;","map":{"version":3,"sources":["C:/Users/gunav/Desktop/Code/Code For Change/Choice-Picks/src/base/librarian.js"],"names":["React","Component","raw","Library","constructor","props","lines","fetch","then","r","text","push","split","state","newAccount","content","handleSubmit","bind","handleNewAccount","render","createNewAccount","login","toggle","setState","e","padding","paddingBottom","event","preventDefault","username","document","getElementById","value","trim","password","authenticated","i","length","line","beginI","indexOf","endI","rUsername","substring","rPassword","style","display","alert","accPass","newP","confirmP","newU","newLine"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport '../index.css';\r\nimport raw from './credentials.txt';\r\n\r\nclass Library extends Component{\r\n    constructor(props) {\r\n        super(props)\r\n        let lines = []\r\n        fetch(raw)\r\n            .then(r => r.text())\r\n                .then(text => {\r\n                    lines.push(text.split(\"\\n\"));\r\n        });\r\n        this.state = {\r\n            lines,\r\n            newAccount: false,\r\n            content: true,\r\n        }\r\n        this.handleSubmit = this.handleSubmit.bind(this)\r\n        this.handleNewAccount = this.handleNewAccount.bind(this);\r\n    }\r\n\r\n    render() {\r\n        const createNewAccount = (this.state.newAccount) ? this.createNewAccount(): null;\r\n        const content = (this.state.content) ? this.content(): null;\r\n        return (\r\n            <div>\r\n                <br/>\r\n                {this.login()}\r\n                <div id = \"loginContent\">\r\n                    {content}\r\n                    {createNewAccount}\r\n                </div>\r\n                \r\n            </div>\r\n        );\r\n    }\r\n\r\n    toggle() {\r\n        this.setState({newAccount: !this.state.newAccount});\r\n        this.setState({content: !this.state.content});\r\n    }\r\n\r\n    content() {\r\n        return (\r\n            <div>\r\n                <button onClick = {(e) => this.toggle(e)}>New Account</button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    login() {\r\n        return (\r\n            <div className = \"login1\" id = \"login\">\r\n                <h1 className = \"loginHeader\">Login</h1>\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <div style = {{padding: \"5vh\"}}>\r\n                        <label>\r\n                            <input type=\"text\" id = \"name\" placeholder = \"Username\" required=\"required\"/>\r\n                        </label>\r\n                        <br />\r\n                        <label>\r\n                            <input type=\"password\" id = \"password\" placeholder = \"Password\" required=\"required\"/>\r\n                        </label>\r\n                        <br />\r\n                    </div>\r\n                    <input className = \"submitBtn\" type=\"submit\" value=\"Submit\" />\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    createNewAccount() {\r\n        return (\r\n            <div className = \"login2\">\r\n                <h1 className = \"loginHeader\">Create New Account</h1>\r\n                <form onSubmit = {this.handleNewAccount}>\r\n                    <div style = {{padding: \"5vh\"}}>\r\n                        <label style = {{paddingBottom: \"5vh\"}}>\r\n                                <input type=\"password\" id = \"accPass\" placeholder = \"Account Password:\" required=\"required\"/>\r\n                        </label>\r\n                        <label>\r\n                                <input type=\"text\" id = \"newU\" placeholder = \"New Username\" required=\"required\"/>\r\n                        </label>\r\n                        <label>\r\n                                <input type=\"password\" id = \"newP\" placeholder = \"New Password\" required=\"required\"/>\r\n                        </label>\r\n                        <label>\r\n                                <input type=\"password\" id = \"confirmP\" placeholder = \"Confirm Password\" required=\"required\"/>\r\n                        </label>\r\n                    </div>\r\n                    <input type=\"submit\" value=\"Submit\" className = \"submitBtn\"/>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault()\r\n        let username = document.getElementById(\"name\").value.trim();\r\n        let password = document.getElementById(\"password\").value.trim();\r\n        let authenticated = false;\r\n        for (let i = 0; i < this.state.lines[0].length; i++) {\r\n            let line = this.state.lines[0][i];\r\n            const beginI = line.indexOf(\":\") + 2;\r\n            const endI = line.indexOf(\",\");\r\n            let rUsername = line.substring(beginI, endI).trim();\r\n            if (username === rUsername) {\r\n                let rPassword = this.state.lines[0][i].substring(endI + 12).trim();\r\n                if (password === rPassword) {\r\n                    authenticated = true;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        if (authenticated) {\r\n            document.getElementById(\"login\").style.display = \"none\";\r\n            document.getElementById(\"loginContent\").style.display = \"block\";\r\n        }\r\n        else {\r\n            alert(\"Incorrect Credentials!\");\r\n            document.getElementById(\"name\").value = \"\";\r\n            document.getElementById(\"password\").value = \"\";\r\n        }\r\n    }\r\n\r\n    handleNewAccount(event) {\r\n        event.preventDefault()\r\n        let accPass = document.getElementById(\"accPass\").value;\r\n        if (accPass === document.getElementById(\"password\").value) {\r\n            let newP = document.getElementById(\"newP\").value;\r\n            let confirmP = document.getElementById(\"confirmP\").value;\r\n            if (newP === confirmP) {\r\n                let newU = document.getElementById(\"newU\").value;\r\n                let newLine = \"username: \" + newU + \", password: \" + newP;\r\n                // localStorage.setItem('1', newLine);\r\n                // console.log(localStorage.getItem('1') + \"local storage\");\r\n                // this.state.lines[0].add(newLine);\r\n                // const fs = require('fs');\r\n                // fs.appendFile('./credentials.txt', '\\nRight there up on Broadway', (err) => {\r\n                //     if (err) throw err;\r\n                //     console.log('The lyrics were updated!');\r\n                // });\r\n                // using(StreamWrite sw = new StreamWriter(\"file.txt\"))\r\n                // credential.txt\r\n                // window.updateFile(newLine);\r\n                this.toggle();\r\n            }\r\n            else {\r\n                alert(\"Passwords do not match!\");\r\n                document.getElementById(\"newP\").value = \"\";\r\n                document.getElementById(\"confirmP\").value = \"\";\r\n            }\r\n        }\r\n        else {\r\n            alert(\"Incorrect password!\");\r\n            document.getElementById(\"accPass\").value = \"\";\r\n        }\r\n    }\r\n}\r\n\r\nexport default Library;"]},"metadata":{},"sourceType":"module"}